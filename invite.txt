#!/bin/bash

tput clear
if [[ -f .invited  ]]  ; then
  message="
You are already invited.
Stay Present on:- "
  # echo -e "Dear You are already invited"

  for ((i=0; i<${#message}; i++)); do
    if [ "${message:$i:1}" == $'\n' ]; then
      sleep 0.2
    fi
    printf "${color}%s${reset}" "${message:$i:1}"
    sleep 0.05
  done 

else

  curl -s https://wttr.in/@ba-systems.com?format="%l:+%c+%t\n"

  message="Dear All,

  I hope this letter finds you in the best of health and spirits. As we have been working
  together for quite some time now, I believe it's high time we catch up outside of work.
  Therefore, I would like to invite you to a dinner party.

  It will make me very happy if you come to the party.

"

  color='\033[0;32m' # Green color
  reset='\033[0m'    # Reset color

  for ((i=0; i<${#message}; i++)); do
    if [ "${message:$i:1}" == $'\n' ]; then
      sleep 0.2
    fi
    printf "${color}%s${reset}" "${message:$i:1}"
    sleep 0.05
  done

  touch ~/.invited

fi

  printf "\n"
  echo -e "\e[5m\e[31mPlace:\e[0m REDUCTED"
  echo -e "\e[5m\e[32mTime :\e[0m 1678671000 (UNIX)"
  printf "
Best regards,
  Shantanu Dey Anik"
